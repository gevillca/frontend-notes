<div class="p-6 bg-white dark:bg-gray-900 min-h-screen">
  <!-- Page Header with Search -->
  <app-page-header
    [title]="'Archived Notes'"
    [searchPlaceholder]="'Search in archived notes...'"
    [searchValue]="notesStore.searchTerm()"
    (searchChange)="onSearchChange($event)" />

  <!-- Info Banner -->
  <div class="bg-amber-50 dark:bg-amber-900/30 border-l-4 border-amber-500 p-4 mb-4 rounded-r-lg">
    <div class="flex items-center">
      <i class="pi pi-inbox text-amber-600 dark:text-amber-400 mr-3 text-xl"></i>
      <div>
        <p class="text-xs text-surface-600 dark:text-surface-400 mt-1">
          These notes are archived and separated from your active notes. You can restore or
          permanently delete them.
        </p>
      </div>
    </div>
  </div>

  <!-- Main Content Area -->
  <div class="flex flex-1 overflow-hidden">
    <!-- Left Column: Archived Notes List -->
    <div class="w-96 flex flex-col border-r border-surface bg-surface-card">
      <div class="flex-1 overflow-auto">
        <!-- Empty State -->
        @if (archivedNotes().length === 0) {
          <div class="flex flex-col items-center justify-center h-96 text-center p-6">
            <i class="pi pi-inbox text-8xl text-surface-300 dark:text-surface-600 mb-4"></i>
            <h3 class="text-xl font-semibold text-surface-900 dark:text-surface-0 mb-2">
              No archived notes
            </h3>
            <p class="text-sm text-surface-500 dark:text-surface-400 max-w-sm mb-4">
              When you archive notes, they'll appear here. Archived notes are hidden from your main
              view but can be restored anytime.
            </p>
            <p-button
              label="Go to Active Notes"
              icon="pi pi-arrow-left"
              (onClick)="goToActiveNotes()"
              severity="secondary"
              [text]="true" />
          </div>
        } @else {
          <!-- Archived Notes List -->
          <div class="pb-4">
            @for (note of archivedNotes(); track note.id) {
              <app-note-list-item
                [note]="note"
                [allTags]="allTags()"
                [isSelected]="selectedNote()?.id === note.id"
                (noteClick)="onNoteClick($event)" />
            }
          </div>
        }
      </div>
    </div>

    <!-- Right Column: Note Detail -->
    <div class="flex-1">
      @if (selectedNote()) {
        <div class="h-full flex flex-col">
          <!-- Note Detail -->
          <div class="flex-1 overflow-auto">
            <app-note-detail
              [note]="selectedNote()"
              [allTags]="allTags()"
              (archiveNote)="onUnarchiveNote($event)"
              (deleteNote)="onDeleteNote($event)" />
          </div>
        </div>
      } @else {
        <!-- Empty Selection State -->
        <div class="flex flex-col items-center justify-center h-full text-center p-8">
          <i class="pi pi-inbox text-8xl text-surface-300 dark:text-surface-600 mb-4"></i>
          <h3 class="text-xl font-semibold text-surface-900 dark:text-surface-0 mb-2">
            Select an archived note
          </h3>
          <p class="text-sm text-surface-500 dark:text-surface-400 max-w-md">
            Choose an archived note from the list to view its content, restore it, or delete it
            permanently.
          </p>
        </div>
      }
    </div>
  </div>
</div>
